/*
CSS Selector Generator, v0.5.0
by Riki Fridrich <riki@fczbkk.com> (http://fczbkk.com)
https://github.com/fczbkk/css-selector-generator/
*/(function(){var a,b,c=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};a=function(){function a(a){null==a&&(a={}),this.options={},this.setOptions(this.default_options),this.setOptions(a)}return a.prototype.default_options={selectors:["tag","id","class","nthchild"]},a.prototype.setOptions=function(a){var b,c,d;null==a&&(a={}),d=[];for(b in a)c=a[b],d.push(this.default_options.hasOwnProperty(b)?this.options[b]=c:void 0);return d},a.prototype.isElement=function(a){return!(1!==(null!=a?a.nodeType:void 0))},a.prototype.getParents=function(a){var b,c;if(c=[],this.isElement(a))for(b=a;this.isElement(b);)c.push(b),b=b.parentNode;return c},a.prototype.getTagSelector=function(a){return a.tagName.toLowerCase()},a.prototype.sanitizeItem=function(a){return escape(a).replace(/\%/g,"\\")},a.prototype.validateId=function(a){return null==a?!1:/^\d/.exec(a)?!1:1!==document.querySelectorAll("#"+a).length?!1:!0},a.prototype.getIdSelector=function(a){var b;return b=a.getAttribute("id"),null!=b&&(b=this.sanitizeItem(b)),b=b=this.validateId(b)?"#"+b:null},a.prototype.getClassSelectors=function(a){var b,c,d;return d=[],b=a.getAttribute("class"),null!=b&&(b=b.replace(/\s+/g," "),b=b.replace(/^\s|\s$/g,""),""!==b&&(d=function(){var a,d,e,f;for(e=b.split(/\s+/),f=[],a=0,d=e.length;d>a;a++)c=e[a],f.push("."+this.sanitizeItem(c));return f}.call(this))),d},a.prototype.getAttributeSelectors=function(a){var b,d,e,f,g,h,i;for(e=[],d=["id","class"],h=a.attributes,f=0,g=h.length;g>f;f++)b=h[f],i=b.nodeName,c.call(d,i)<0&&e.push("["+b.nodeName+"="+b.nodeValue+"]");return e},a.prototype.getNthChildSelector=function(a){var b,c,d,e,f,g;if(c=a.parentNode,null!=c)for(b=0,e=c.childNodes,f=0,g=e.length;g>f;f++)if(d=e[f],this.isElement(d)&&(b++,d===a))return":nth-child("+b+")";return null},a.prototype.testSelector=function(a,b){var c,d;return c=!1,null!=b&&""!==b&&(d=a.ownerDocument.querySelectorAll(b),1===d.length&&d[0]===a&&(c=!0)),c},a.prototype.getAllSelectors=function(a){var b;return b={t:null,i:null,c:null,a:null,n:null},c.call(this.options.selectors,"tag")>=0&&(b.t=this.getTagSelector(a)),c.call(this.options.selectors,"id")>=0&&(b.i=this.getIdSelector(a)),c.call(this.options.selectors,"class")>=0&&(b.c=this.getClassSelectors(a)),c.call(this.options.selectors,"attribute")>=0&&(b.a=this.getAttributeSelector(a)),c.call(this.options.selectors,"nthchild")>=0&&(b.n=this.getNthChildSelector(a)),b},a.prototype.testUniqueness=function(a,b){var c,d;return d=a.parentNode,c=d.querySelectorAll(b),1===c.length&&c[0]===a},a.prototype.getUniqueSelector=function(a){var b,c,d;if(d=this.getAllSelectors(a),null!=d.i)return d.i;if(this.testUniqueness(a,d.t))return d.t;if(0!==d.c.length){if(b=d.c.join(""),c=b,this.testUniqueness(a,c))return c;if(c=d.t+b,this.testUniqueness(a,c))return c}return d.n},a.prototype.getSelector=function(a){var b,c,d,e,f,g,h,i,j,k;for(b=[],d=this.getParents(a),h=0,j=d.length;j>h;h++)c=d[h],f=this.getUniqueSelector(c),null!=f&&b.push(f);for(g=[],i=0,k=b.length;k>i;i++)if(c=b[i],g.unshift(c),e=g.join(" > "),this.testSelector(a,e))return e;return null},a}(),b="undefined"!=typeof exports&&null!==exports?exports:this,b.CssSelectorGenerator=a}).call(this);
